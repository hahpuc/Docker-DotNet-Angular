version: '3.8'

services:
  # Service BE
  longlearn-service:
    networks:
      - longlearnnetwork
    environment:
      - TZ=Asia/Ho_Chi_Minh
      - ASPNETCORE_URLS=http://+:80
    volumes:
      - /srv/www/Docker-DotNet-Angular/app-volumes/longlearn-service:/data
      - ConnectionStrings__Default=Server=89.117.53.210,1433;Database=TestDB;TrustServerCertificate=True;User Id=sa;Password=Long@1234
      - App__CorsOrigins=https://*.Docker.com,http://localhost:4200,http://89.117.53.210:4200
    ports:
      - 44342:80
    restart: always

  # Web FE
  longlearn-web:
    networks:
      - longlearnnetwork
    environment:
      - TZ=Asia/Ho_Chi_Minh
    ports:
      - 4200:80
    volumes:
      - /srv/www/Docker-DotNet-Angular/app-volumes/longlearn-web:/data
    restart: always
